<!-- Modal-content -->
<div class="modal-header bg-dark">
  <h5 class="modal-title" *ngIf="user">{{user.login}}</h5>
  <h5 class="modal-title" *ngIf="!user" translate>admin.input.user.add</h5>
  <button (click)="activeModal.dismiss('Cross click')" type="button" class="close" data-dismiss="modal"
    aria-label="Close">
    <span aria-hidden="true">&times;</span>
  </button>
</div>
<div class="border border-primary p-4 bg-dark">
  <form [formGroup]="form">
    <div class="form-group">
      <div *ngIf="!user">
        <label for="login" translate>admin.input.user.login</label>
        <input formControlName="login" name="login" id="login" type="text" class="form-control bg-dark">
        <div *ngIf="login.touched && login.invalid" class="alert alert-danger">
          <div *ngIf="login.errors.required" translate>admin.input.login.required</div>
          <div *ngIf="login.errors.maxlength" translate>admin.input.login.maxLength</div>
          <div *ngIf="login.errors.minlength" translate>admin.input.login.minLength</div>
          <div *ngIf="login.errors.shouldbeUnique" translate>admin.input.login.alreadyTaken </div>
        </div>
      </div>
    </div>
    <div class="form-group">
      <label for="firstName" translate>admin.input.user.firstname</label>
      <input formControlName="firstName" name="firstName" id="firstName" type="text" class="form-control bg-dark">
      <div *ngIf="firstName.touched && firstName.invalid" class="alert alert-danger">
        <div *ngIf="firstName.errors.required" translate>admin.input.firstname.required</div>
        <div *ngIf="firstName.errors.maxlength" translate>admin.input.firstname.maxLength</div>
      </div>
    </div>
    <div class="form-group">
      <label for="lastName" translate>admin.input.user.lastname</label>
      <input formControlName="lastName" name="lastName" id="lastName" type="text" class="form-control bg-dark">
      <div *ngIf="lastName.touched && lastName.invalid" class="alert alert-danger">
        <div *ngIf="lastName.errors.required" translate>admin.input.lastname.required</div>
        <div *ngIf="lastName.errors.maxlength" translate>admin.input.lastname.maxLength</div>
      </div>
    </div>
    <div class="form-group">
      <label for="groups" translate>admin.input.user.groups</label>
      <select multiple formControlName="groups" name="groups" id="groups" class="form-control bg-dark">
        <option value=""></option>
        <option *ngFor="let group of groupsList" [value]="group.id">{{group.id}}</option>
      </select>
    </div>
    <div class="form-group">
      <label for="entities" translate>admin.input.user.entities</label>
      <select multiple formControlName="entities" name="entities" id="entities" class="form-control bg-dark">
        <option value=""></option>
        <option *ngFor="let entity of entitiesList" [value]="entity.id">{{entity.id}}</option>
      </select>
    </div>
  </form>
</div>
<div class="modal-footer bg-dark">
  <button type="button" (click)="activeModal.dismiss('Cross click')" class="btn btn-secondary"
    data-dismiss="modal" translate>admin.input.user.close</button>
  <button [disabled]="!form.valid" *ngIf="!user" (click)="updateUser()" class="btn btn-primary" translate>admin.input.user.add</button>
  <button [disabled]="!form.valid" *ngIf="user" (click)="updateUser()" class="btn btn-primary" translate>admin.input.user.save</button>
</div>